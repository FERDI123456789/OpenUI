import{j as t,b as R,u as H,C as ee,a as re}from"./use_queries.Bd4NZjot.js";import{r as S,R as j}from"./index.DB02PGg6.js";import{a as y}from"./api.ByO424ah.js";import{C as E,a as te}from"./ComponentPanel.CbbO0oOw.js";function T(s,r,e){return parseInt(s.substr(r,e),16)}function F(s){return s|=0,s<0?"00":s<16?"0"+s.toString(16):s<256?s.toString(16):"ff"}function V(s,r,e){return e=e<0?e+6:e>6?e-6:e,F(255*(e<1?s+(r-s)*e:e<3?r:e<4?s+(r-s)*(4-e):s))}function se(s){if(/^#[0-9a-f]{3,8}$/i.test(s)){let r;const e=s.length;if(e<6){const o=s[1],n=s[2],a=s[3],l=s[4]||"";r="#"+o+o+n+n+a+a+l+l}return(e==7||e>8)&&(r=s),r}}function oe(s,r,e){let o;if(r==0){const n=F(e*255);o=n+n+n}else{const n=e<=.5?e*(r+1):e+r-e*r,a=e*2-n;o=V(a,n,s*6+2)+V(a,n,s*6)+V(a,n,s*6-2)}return"#"+o}function I(s,r,e){const o=[.55,.5,.5,.46,.6,.55,.55],n=o[s*6+.5|0];return e=e<.5?e*n*2:n+(e-.5)*(1-n)*2,oe(s,r,e)}const ne=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{},W={V:"jdenticon_config",n:"config"};var ae={};function ie(s,r){const e=ae[W.n]||ne[W.V]||{},o=e.lightness||{},n=e.saturation||{},a="color"in n?n.color:n,l=n.grayscale,p=e.backColor,u=e.padding;function i(h,x){let m=o[h];return m&&m.length>1||(m=x),function(c){return c=m[0]+c*(m[1]-m[0]),c<0?0:c>1?1:c}}function b(h){const x=e.hues;let m;return x&&x.length>0&&(m=x[0|.999*h*x.length]),typeof m=="number"?(m/360%1+1)%1:h}return{W:b,o:typeof a=="number"?a:.5,D:typeof l=="number"?l:0,p:i("color",[.4,.8]),F:i("grayscale",[.3,.9]),G:se(p),X:typeof u=="number"?u:r}}class K{constructor(r,e){this.x=r,this.y=e}}class U{constructor(r,e,o,n){this.q=r,this.t=e,this.H=o,this.Y=n}I(r,e,o,n){const a=this.q+this.H,l=this.t+this.H,p=this.Y;return p===1?new K(a-e-(n||0),this.t+r):p===2?new K(a-r-(o||0),l-e-(n||0)):p===3?new K(this.q+e,l-r-(o||0)):new K(this.q+r,this.t+e)}}const le=new U(0,0,0,0);class de{constructor(r){this.J=r,this.u=le}g(r,e){const o=e?-2:2,n=[];for(let a=e?r.length-2:0;a<r.length&&a>=0;a+=o)n.push(this.u.I(r[a],r[a+1]));this.J.g(n)}h(r,e,o,n){const a=this.u.I(r,e,o,o);this.J.h(a,o,n)}i(r,e,o,n,a){this.g([r,e,r+o,e,r+o,e+n,r,e+n],a)}j(r,e,o,n,a,l){const p=[r+o,e,r+o,e+n,r,e+n,r,e];p.splice((a||0)%4*2,2),this.g(p,l)}K(r,e,o,n,a){this.g([r+o/2,e,r+o,e+n/2,r+o/2,e+n,r,e+n/2],a)}}function pe(s,r,e,o){s=s%14;let n,a,l,p,u,i;s?s==1?(l=0|e*.5,p=0|e*.8,r.j(e-l,0,l,p,2)):s==2?(l=0|e/3,r.i(l,l,e-l,e-l)):s==3?(u=e*.1,i=e<6?1:e<8?2:0|e*.25,u=u>1?0|u:u>.5?1:u,r.i(i,i,e-u-i,e-u-i)):s==4?(a=0|e*.15,l=0|e*.5,r.h(e-l-a,e-l-a,l)):s==5?(u=e*.1,i=u*4,i>3&&(i=0|i),r.i(0,0,e,e),r.g([i,i,e-u,i,i+(e-i-u)/2,e-u],!0)):s==6?r.g([0,0,e,0,e,e*.7,e*.4,e*.4,e*.7,e,0,e]):s==7?r.j(e/2,e/2,e/2,e/2,3):s==8?(r.i(0,0,e,e/2),r.i(0,e/2,e/2,e/2),r.j(e/2,e/2,e/2,e/2,1)):s==9?(u=e*.14,i=e<4?1:e<6?2:0|e*.35,u=e<8?u:0|u,r.i(0,0,e,e),r.i(i,i,e-i-u,e-i-u,!0)):s==10?(u=e*.12,i=u*3,r.i(0,0,e,e),r.h(i,i,e-u-i,!0)):s==11?r.j(e/2,e/2,e/2,e/2,3):s==12?(a=e*.25,r.i(0,0,e,e),r.K(a,a,e-a,e-a,!0)):!o&&(a=e*.4,l=e*1.2,r.h(a,a,l)):(n=e*.42,r.g([0,0,e,0,e,e-n*2,e-n,e,0,e]))}function P(s,r,e){s=s%4;let o;s?s==1?r.j(0,e/2,e,e/2,0):s==2?r.K(0,0,e,e):(o=e/6,r.h(o,o,e-2*o)):r.j(0,0,e,e,0)}function ue(s,r){return s=r.W(s),[I(s,r.D,r.F(0)),I(s,r.o,r.p(.5)),I(s,r.D,r.F(1)),I(s,r.o,r.p(1)),I(s,r.o,r.p(0))]}function ce(s,r,e){const o=ie(e,.08);o.G&&s.m(o.G);let n=s.k;const a=.5+n*o.X|0;n-=a*2;const l=new de(s),p=0|n/4,u=0|a+n/2-p*2,i=0|a+n/2-p*2;function b(g,d,N,k,M){const O=T(r,N,1);let A=k?T(r,k,1):0;s.L(x[m[g]]);for(let C=0;C<M.length;C++)l.u=new U(u+M[C][0]*p,i+M[C][1]*p,p,A++%4),d(O,l,p,C);s.M()}const h=T(r,-7)/268435455,x=ue(h,o),m=[];let c;function v(g){if(g.indexOf(c)>=0){for(let d=0;d<g.length;d++)if(m.indexOf(g[d])>=0)return!0}}for(let g=0;g<3;g++)c=T(r,8+g,1)%x.length,(v([0,4])||v([2,3]))&&(c=1),m.push(c);b(0,P,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),b(1,P,4,5,[[0,0],[3,0],[3,3],[0,3]]),b(2,pe,1,null,[[1,1],[2,1],[2,2],[1,2]]),s.finish()}function he(s){var o=0,n=0,a=encodeURI(s)+"%80",l=[],p,u=[],i=1732584193,b=4023233417,h=~i,x=~b,m=3285377520,c=[i,b,h,x,m],v=0,g="";function d(N,k){return N<<k|N>>>32-k}for(;o<a.length;n++)l[n>>2]=l[n>>2]|(a[o]=="%"?parseInt(a.substring(o+1,o+=3),16):a.charCodeAt(o++))<<(3-(n&3))*8;for(p=((n+7>>6)+1)*16,l[p-1]=n*8-8;v<p;v+=16){for(o=0;o<80;o++)n=d(i,5)+m+(o<20?(b&h^~b&x)+1518500249:o<40?(b^h^x)+1859775393:o<60?(b&h^b&x^h&x)+2400959708:(b^h^x)+3395469782)+(u[o]=o<16?l[v+o]|0:d(u[o-3]^u[o-8]^u[o-14]^u[o-16],1)),m=x,x=h,h=d(b,30),b=i,i=n;c[0]=i=c[0]+i|0,c[1]=b=c[1]+b|0,c[2]=h=c[2]+h|0,c[3]=x=c[3]+x|0,c[4]=m=c[4]+m|0}for(o=0;o<40;o++)g+=(c[o>>3]>>>(7-(o&7))*4&15).toString(16);return g}function xe(s){return/^[0-9a-f]{11,}$/i.test(s)&&s}function me(s){return he(s==null?"":""+s)}typeof document<"u"&&document.querySelectorAll.bind(document);function L(s){return(s*10+.5|0)/10}class be{constructor(){this.v=""}g(r){let e="";for(let o=0;o<r.length;o++)e+=(o?"L":"M")+L(r[o].x)+" "+L(r[o].y);this.v+=e+"Z"}h(r,e,o){const n=o?0:1,a=L(e/2),l=L(e),p="a"+a+","+a+" 0 1,"+n+" ";this.v+="M"+L(r.x)+" "+L(r.y+e/2)+p+l+",0"+p+-l+",0"}}class ge{constructor(r){this.A,this.B={},this.O=r,this.k=r.k}m(r){const e=/^(#......)(..)?/.exec(r),o=e[2]?T(e[2],0)/255:1;this.O.m(e[1],o)}L(r){this.A=this.B[r]||(this.B[r]=new be)}M(){}g(r){this.A.g(r)}h(r,e,o){this.A.h(r,e,o)}finish(){const r=this.B;for(let e in r)r.hasOwnProperty(e)&&this.O.P(e,r[e].v)}}const fe={R:"http://www.w3.org/2000/svg"};class ve{constructor(r){this.k=r,this.C='<svg xmlns="'+fe.R+'" width="'+r+'" height="'+r+'" viewBox="0 0 '+r+" "+r+'">'}m(r,e){e&&(this.C+='<rect width="100%" height="100%" fill="'+r+'" opacity="'+e.toFixed(2)+'"/>')}P(r,e){this.C+='<path fill="'+r+'" d="'+e+'"/>'}toString(){return this.C+"</svg>"}}function je(s,r,e){const o=new ve(r);return ce(new ge(o),xe(s)||me(s),e),o.toString()}function we({username:s,profileUsername:r,isOwnProfile:e,currentPage:o,setCurrentPage:n,onLogout:a,topRightExtra:l,children:p}){const u=r||s,[i,b]=S.useState(null);return S.useEffect(()=>{const h=setTimeout(()=>{b(je(u,32))},200);return()=>clearTimeout(h)},[u]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-purple-900/20",children:[t.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 border-r-2 border-purple-900/50 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 shadow-2xl shadow-purple-900/30",children:[t.jsx("div",{className:"p-6 border-b-2 border-purple-800/40 bg-gradient-to-br from-gray-800 via-purple-900/20 to-gray-800",children:t.jsxs("div",{className:"text-sm text-gray-300 font-medium flex items-center",children:[i?t.jsx("div",{className:"inline-block w-7 h-7 rounded-full mr-2 shadow-lg shadow-purple-500/30",dangerouslySetInnerHTML:{__html:i}}):t.jsx("div",{className:"inline-block w-7 h-7 rounded-full bg-gray-700 animate-pulse mr-2"}),i?t.jsx("span",{className:"bg-gradient-to-r from-white via-purple-200 to-purple-300 bg-clip-text text-transparent",children:u}):t.jsx("div",{className:"h-3 w-20 bg-gray-700 animate-pulse rounded"})]})}),t.jsxs("nav",{className:"p-4 space-y-2 mt-2",children:[e&&t.jsxs("button",{onClick:()=>n("components"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="components"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),t.jsx("span",{children:"Komponenten"})]}),e&&t.jsxs("button",{onClick:()=>n("saved"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="saved"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),t.jsx("span",{children:"Gespeichert"})]}),t.jsxs("button",{onClick:()=>n("published"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="published"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),t.jsx("span",{children:"VerÃ¶ffentlicht"})]}),t.jsxs("button",{onClick:()=>n("discover"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="discover"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("span",{children:"Entdecken"})]})]})]}),t.jsxs("div",{className:"ml-64",children:[t.jsx("header",{className:"sticky top-0 z-10 bg-gray-800/80 backdrop-blur-md border-b border-purple-800/30 shadow-lg shadow-black/20",children:t.jsxs("div",{className:"flex items-center justify-between px-8 h-16",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[!e&&t.jsxs("button",{onClick:()=>{const h=typeof window<"u"?localStorage.getItem("userId"):null;h?window.location.href=`/u/${h}`:window.location.href="/u"},className:"flex items-center gap-2 text-sm text-gray-300 hover:text-white px-4 py-2 rounded-lg hover:bg-gray-700/50 transition-all duration-200 cursor-pointer border border-transparent hover:border-purple-800/50",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"ZurÃ¼ck"]}),t.jsx("div",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-purple-300 to-purple-400 font-bold text-xl",children:"OpenUI"})]}),e?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{onClick:a,className:"text-sm text-gray-300 hover:text-white px-4 py-2 rounded-lg hover:bg-gray-700/50 transition-all duration-200 cursor-pointer border border-transparent hover:border-purple-800/50",children:"Abmelden"})}),l]}):t.jsx("div",{className:"flex items-center gap-4",children:l})]})}),t.jsx("main",{className:"p-8 min-h-screen",children:p})]})]})}function ye({viewMode:s,setViewMode:r,searchQuery:e,setSearchQuery:o}){return t.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[t.jsxs("div",{className:"flex-1 max-w-md relative",children:[t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Nach Titel suchen...",value:e,onChange:n=>o(n.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/60 backdrop-blur-sm text-white border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 outline-none placeholder-gray-500 transition-all hover:border-purple-700/50"})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-xl p-1",children:[t.jsx("button",{onClick:()=>r("grid"),className:`p-2.5 rounded-lg transition-all duration-200 ${s==="grid"?"bg-purple-600/30 text-purple-300 shadow-lg shadow-purple-500/20":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,title:"Rasteransicht",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),t.jsx("button",{onClick:()=>r("list"),className:`p-2.5 rounded-lg transition-all duration-200 ${s==="list"?"bg-purple-600/30 text-purple-300 shadow-lg shadow-purple-500/20":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,title:"Listenansicht",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}function Ne({components:s,filteredComponents:r,viewMode:e,setViewMode:o,searchQuery:n,setSearchQuery:a,onCreateClick:l,onSelectComponent:p,getLanguageBadgeColor:u,currentPage:i,handleTogglePublish:b,selectedComponent:h,setSelectedComponent:x}){const[m,c]=S.useState(!1),v=d=>{x(d)};S.useEffect(()=>{if(h){const d=setTimeout(()=>c(!0),10);return()=>clearTimeout(d)}},[h]);const g=()=>{x(null)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-800/10 rounded-full blur-3xl"})]}),t.jsx("div",{className:"mb-8 relative",children:t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-serif mb-2 bg-gradient-to-r from-white via-purple-300 to-purple-400 bg-clip-text text-transparent",style:{fontFamily:"'Playfair Display', serif"},children:i==="components"?"Komponenten":i==="saved"?"Gespeicherte Komponenten":i==="published"?"VerÃ¶ffentlichte Komponenten":"Alle Komponenten entdecken"}),t.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:i==="discover"?"DurchstÃ¶bere alle verÃ¶ffentlichten Komponenten":"Deine Komponenten-Bibliothek und Vorschauen"})]}),i==="components"&&l&&t.jsxs("button",{onClick:l,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full text-sm font-medium hover:from-purple-500 hover:to-purple-600 transition-all duration-300 shadow-lg shadow-purple-500/40 hover:shadow-purple-500/60 hover:scale-105 active:scale-95 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Komponente erstellen"]})]})}),t.jsx(ye,{viewMode:e,setViewMode:o,searchQuery:n,setSearchQuery:a}),(r?.length??0)===0?t.jsx("div",{className:"text-gray-400 text-center mt-10 py-12",children:t.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-2xl p-8 max-w-md mx-auto",children:t.jsx("p",{className:"text-lg",children:"Keine Komponenten gefunden."})})}):e==="grid"?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mt-6 pb-8",children:r.map(d=>t.jsxs("div",{onClick:()=>v(d),className:"group bg-gray-800/90 backdrop-blur-sm border border-purple-800/40 rounded-xl overflow-hidden hover:border-purple-500/60 hover:shadow-xl hover:shadow-purple-500/30 transition-all duration-300 ease-out cursor-pointer transform hover:-translate-y-1 active:scale-[0.98]",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[t.jsxs("div",{className:"p-5 bg-gradient-to-b from-gray-800/80 to-transparent",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-purple-300 transition-colors",children:d.name}),t.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-white p-1",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("span",{className:`inline-flex px-3 py-1.5 rounded-lg text-xs font-semibold border ${u(d.language)}`,children:d.language.toUpperCase()}),d.user?.username&&t.jsxs("p",{className:"text-xs text-gray-400",children:["von ",t.jsx("span",{className:"text-purple-400",children:d.user.username})]})]})]}),t.jsx("div",{className:"border-t border-purple-800/20 bg-gray-900/40 h-64 overflow-hidden",children:t.jsx("div",{className:"h-full scale-95 group-hover:scale-100 transition-transform duration-300",children:t.jsx(E,{code:d.code,css:d.css,language:d.language})})})]},d._id))}):t.jsx("div",{className:"mt-6 space-y-3 pb-8",children:r.map(d=>t.jsxs("div",{onClick:()=>v(d),className:"group p-5 bg-gray-800/90 backdrop-blur-sm border border-purple-800/40 rounded-xl hover:border-purple-500/60 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 ease-out cursor-pointer flex items-center justify-between active:scale-[0.98]",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-purple-300 transition-colors mb-2",children:d.name}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("span",{className:`inline-flex px-3 py-1.5 rounded-lg text-xs font-semibold border ${u(d.language)}`,children:d.language.toUpperCase()}),d.user?.username&&t.jsxs("p",{className:"text-xs text-gray-400",children:["von ",t.jsx("span",{className:"text-purple-400",children:d.user.username})]})]})]}),t.jsx("div",{className:"w-48 h-24 border border-purple-800/30 rounded-lg overflow-hidden bg-gray-900/40 ml-4 group-hover:border-purple-500/50 transition-colors",children:t.jsx(E,{code:d.code,css:d.css,language:d.language})})]},d._id))}),t.jsx(te,{selectedComponent:h,setSelectedComponent:x,onClose:g,getLanguageBadgeColor:u,handleTogglePublish:b,onComponentUpdate:d=>{x(d)}})]})}function ke({newComponent:s,onChange:r,onSubmit:e,onCancel:o,getLanguageBadgeColor:n}){const[a,l]=j.useState("html");return t.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-40 overflow-y-auto text-gray-100",children:[t.jsxs("div",{className:"absolute inset-0 -z-10",children:[t.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-purple-800/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"})]}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("button",{onClick:o,className:"text-sm text-gray-300 hover:text-purple-400 transition-colors mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"â†"}),t.jsx("span",{children:"ZurÃ¼ck zum Dashboard"})]}),t.jsxs("h2",{className:"text-4xl font-semibold text-white mb-3",style:{fontFamily:"'Playfair Display', serif"},children:["Erstelle eine ",t.jsx("span",{className:"text-purple-400",children:"Komponente"})]}),t.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Baue deine Komponente und sieh eine Live-Vorschau, wÃ¤hrend du tippst."})]}),t.jsxs("form",{onSubmit:e,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Komponentenname"}),t.jsx("input",{type:"text",value:s.name,onChange:p=>r("name",p.target.value),placeholder:"e.g., Pricing Hero",required:!0,className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none transition-all hover:border-purple-700/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Beschreibung (optional)"}),t.jsx("textarea",{value:s.description,onChange:p=>r("description",p.target.value),placeholder:"Beschreibe, wofÃ¼r diese Komponente verwendet wird...",className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none min-h-24 transition-all hover:border-purple-700/50 resize-y"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Code"}),t.jsxs("div",{className:"flex gap-2 mb-2 bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-xl p-1",children:[t.jsx("button",{type:"button",onClick:()=>l("html"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ${a==="html"?"bg-purple-600/30 text-purple-300":"text-gray-400 hover:text-white"}`,children:"HTML (Pflicht)"}),t.jsx("button",{type:"button",onClick:()=>l("css"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ${a==="css"?"bg-purple-600/30 text-purple-300":"text-gray-400 hover:text-white"}`,children:"CSS (Optional)"}),t.jsx("button",{type:"button",onClick:()=>l("javascript"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ${a==="javascript"?"bg-purple-600/30 text-purple-300":"text-gray-400 hover:text-white"}`,children:"JavaScript (Optional)"})]}),a==="html"&&t.jsx("textarea",{value:s.code,onChange:p=>r("code",p.target.value),placeholder:"<section>...</section>",required:!0,className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none min-h-60 font-mono text-sm transition-all hover:border-purple-700/50 resize-y"}),a==="css"&&t.jsx("textarea",{value:s.css,onChange:p=>r("css",p.target.value),placeholder:".card { background: white; }",className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none min-h-60 font-mono text-sm transition-all hover:border-purple-700/50 resize-y"}),a==="javascript"&&t.jsx("textarea",{value:s.javascript,onChange:p=>r("javascript",p.target.value),placeholder:"// JavaScript Code",className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none min-h-60 font-mono text-sm transition-all hover:border-purple-700/50 resize-y"}),t.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:[t.jsx("span",{children:"ðŸ’¡"}),t.jsx("span",{children:"Tipp: Die Vorschau rechts aktualisiert sich live wÃ¤hrend du tippst."})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-xl text-sm font-medium hover:bg-purple-500 transition-all duration-300 shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 hover:scale-105",children:"Komponente speichern"}),t.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 border border-purple-800/30 rounded-xl text-sm font-medium text-gray-300 hover:bg-purple-900/20 hover:text-purple-400 hover:border-purple-700/50 transition-all",children:"Abbrechen"})]})]})]}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-2xl p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-base font-semibold text-white mb-1",children:"Live-Vorschau"}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Rendert ",s.language.toUpperCase()]})]}),t.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold border ${n(s.language)}`,children:s.language.toUpperCase()})]}),t.jsx("div",{className:"border border-purple-800/20 rounded-xl bg-gray-900/50 backdrop-blur-sm overflow-hidden min-h-[500px] shadow-inner",children:t.jsx(E,{code:s.code,language:"html",css:s.css,javascript:s.javascript})})]})})]})})]})}function Ce({profileId:s}){const[r,e]=j.useState(()=>typeof window<"u"?localStorage.getItem("userId"):null),o=s===r||!s,n=s||r,[a,l]=j.useState(""),[p,u]=j.useState("components"),[i,b]=j.useState(""),[h,x]=j.useState("grid"),[m,c]=j.useState(null),[v,g]=j.useState(!1),[d,N]=j.useState({name:"",description:"",language:"html",css:"",code:"<div class='p-6 text-center'>Start building your component...</div>",javascript:""}),k=R(y.components.createComponent);R(y.components.saveComponent);const M=R(y.components.publishComponent),O=R(y.components.unpublishComponent),A=H(y.components.getComponents,n?{userId:n}:"skip"),C=H(y.components.getSavedComponents,n?{userId:n}:"skip"),$=H(y.components.getPublishedComponents,n?{userId:n}:"skip"),G=H(y.components.getPublicComponents),q=H(y.components.getUserById,s?{id:s}:"skip"),B=o?p==="saved"?C:p==="published"?$:p==="discover"?G:A:$,Z=j.useMemo(()=>!B||!i?B||[]:B.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())),[B,i]),D=f=>{switch(f){case"html":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"css":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"javascript":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},J=async f=>{if(!m||m._id!==f)return;const w=!m.published;c({...m,published:w});try{w?await M({componentId:f}):await O({componentId:f})}catch(z){console.error("Toggle failed, reverting...",z),c(_=>_?._id===f?{..._,published:!_.published}:_)}},Y=f=>{if(f&&f.preventDefault(),!r)return;let w=d.css||"";d.javascript&&(w=w?`${w}

<script>
${d.javascript}
<\/script>`:`<script>
${d.javascript}
<\/script>`),k({name:d.name,description:d.description||void 0,language:d.language,css:w||void 0,code:d.code,userId:r}),g(!1),N({name:"",description:"",language:"html",css:"",code:"<div class='p-6 text-center'>Start building your component...</div>",javascript:""})},Q=(f,w)=>N(z=>({...z,[f]:w})),X=o&&p!=="saved";return t.jsx(t.Fragment,{children:t.jsxs(we,{username:a,profileUsername:q?.username,isOwnProfile:o,currentPage:p,setCurrentPage:u,onLogout:()=>{typeof window<"u"&&(localStorage.clear(),e(null),l(""),requestAnimationFrame(()=>window.location.href="/"))},topRightExtra:null,children:[t.jsx(Ne,{components:B,filteredComponents:Z,viewMode:h,setViewMode:x,searchQuery:i,setSearchQuery:b,...o&&{onCreateClick:()=>{g(!0),N({name:"",description:"",language:"html",css:"",code:"<div class='p-6 text-center'>Start building your component...</div>",javascript:""})}},onSelectComponent:f=>c(f),getLanguageBadgeColor:D,currentPage:p,selectedComponent:m,setSelectedComponent:c,handleTogglePublish:X?J:void 0}),v&&t.jsx(ke,{newComponent:d,onChange:Q,onSubmit:Y,onCancel:()=>g(!1),getLanguageBadgeColor:D})]})})}function Ie({userId:s}){const[r,e]=S.useState(null),o=S.useRef(!1);return S.useEffect(()=>{if(!o.current){const n=new ee("https://friendly-labrador-327.convex.cloud");e(n),o.current=!0}},[]),r?t.jsx(re,{client:r,children:t.jsx(Ce,{profileId:s})}):null}export{Ie as default};
