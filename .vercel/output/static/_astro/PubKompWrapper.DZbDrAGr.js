import{b as m,j as e,C as f,a as p}from"./use_queries.BAwlYwYt.js";import{r as n}from"./index.WxXIy71t.js";import{a as b}from"./api.BHjxwVAw.js";import{C as j,a as v}from"./ComponentPanel.DIUDxHfR.js";function w(){const r=m(b.components.getPublicComponents),[l,c]=n.useState(""),[t,i]=n.useState([]),[g,d]=n.useState(null),h=n.useMemo(()=>r?Array.from(new Set(r.map(a=>a.language))):[],[r]),u=n.useMemo(()=>r?r.filter(s=>{const a=s.name.toLowerCase().includes(l.toLowerCase()),o=t.length===0||t.includes(s.language);return a&&o}):[],[r,l,t]),x=s=>{switch(s){case"html":return"bg-orange-100 text-orange-800";case"jsx":return"bg-blue-100 text-blue-800";case"vue":return"bg-green-100 text-green-800";case"astro":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return r?r.length===0?e.jsx("div",{className:"p-6 text-gray-500 text-center",children:"Keine öffentlichen Komponenten verfügbar."}):e.jsxs("div",{className:"flex text-black bg-orange-100 h-screen p-3",children:[e.jsxs("aside",{className:"w-64 flex-shrink-0 border border-gray-200 p-4 bg-white rounded-xl shadow-xl",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filter Components"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Languages"}),e.jsx("div",{className:"flex flex-col gap-2",children:h.map(s=>e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.includes(s),onChange:a=>{a.target.checked?i([...t,s]):i(t.filter(o=>o!==s))}}),e.jsx("span",{className:"capitalize",children:s})]},s))})]})]}),e.jsxs("div",{className:"w-full mt-10 px-10",children:[e.jsx("h1",{className:"font-bold text-3xl mb-2",children:"UI Komponenten"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:l,onChange:s=>c(s.target.value),className:"w-96 mb-4 px-3 py-2 border border-orange-200 shadow-md bg-white rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent outline-none"}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.map(s=>e.jsx("div",{onClick:()=>d(s),className:"block bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"p-4 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.name}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-700 mt-1 inline font-bold",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5 inline mb-0.5 mr-1",children:[e.jsx("rect",{width:"24",height:"24",fill:"none"}),e.jsx("path",{fill:"currentColor",d:"M13.5 20c-6.6-6.1-10-9.2-10-12.9C3.5 4 5.9 1.6 9 1.6c1.7 0 3.4.8 4.5 2.1c1.1-1.3 2.8-2.1 4.5-2.1c3.1 0 5.5 2.4 5.5 5.5c0 3.8-3.4 6.9-10 12.9M12 21.1C5.4 15.2 1.5 11.7 1.5 7v-.6c-.6.9-1 2-1 3.2c0 3.8 3.4 6.9 10 12.8z","stroke-width":"0.5",stroke:"currentColor"})]}),s.saveCount||0]}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1 inline ml-3 font-bold",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5 inline mb-0.5 mr-1",children:[e.jsx("rect",{width:"24",height:"24",fill:"none"}),e.jsx("path",{fill:"currentColor",d:"M4 7H2v14c0 1.1.9 2 2 2h14v-2H4M20 3h-3.2c-.4-1.2-1.5-2-2.8-2s-2.4.8-2.8 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-6 0c.6 0 1 .5 1 1s-.5 1-1 1s-1-.5-1-1s.4-1 1-1m-1.7 12.1L9 11.8l1.4-1.4l1.9 1.9L17.6 7L19 8.4","stroke-width":"0.5",stroke:"currentColor"})]}),s.copyCount||0]})]})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${x(s.language)}`,children:s.language.toUpperCase()})]}),e.jsx("div",{className:"mt-4 border border-gray-200 rounded overflow-hidden h-64",children:e.jsx(j,{code:s.code,language:s.language,css:s.css})})]})},s._id)),u.length===0&&e.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No components found for your search/filter criteria."})]})]}),e.jsx(v,{selectedComponent:g,onClose:()=>d(null),getLanguageBadgeColor:x})]}):e.jsx("div",{className:"p-6 text-gray-500",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded"}),e.jsx("div",{className:"h-40 bg-gray-200 rounded"}),e.jsx("div",{className:"h-40 bg-gray-200 rounded"})]})})}function L(){const[r,l]=n.useState(null),c=n.useRef(!1);return n.useEffect(()=>{if(!c.current){const t=new f("https://grateful-dodo-887.convex.cloud");l(t),c.current=!0}},[]),r?e.jsx(p,{client:r,children:e.jsx(w,{})}):null}export{L as default};
