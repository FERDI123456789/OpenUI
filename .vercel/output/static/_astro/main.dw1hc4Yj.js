import{j as t,u as A,b as B,C as ee,a as re}from"./use_queries.BAwlYwYt.js";import{r as C,R as j}from"./index.WxXIy71t.js";import{a as w}from"./api.BHjxwVAw.js";import{C as E,a as te}from"./ComponentPanel.DIUDxHfR.js";function _(s,r,e){return parseInt(s.substr(r,e),16)}function U(s){return s|=0,s<0?"00":s<16?"0"+s.toString(16):s<256?s.toString(16):"ff"}function z(s,r,e){return e=e<0?e+6:e>6?e-6:e,U(255*(e<1?s+(r-s)*e:e<3?r:e<4?s+(r-s)*(4-e):s))}function se(s){if(/^#[0-9a-f]{3,8}$/i.test(s)){let r;const e=s.length;if(e<6){const o=s[1],n=s[2],a=s[3],i=s[4]||"";r="#"+o+o+n+n+a+a+i+i}return(e==7||e>8)&&(r=s),r}}function oe(s,r,e){let o;if(r==0){const n=U(e*255);o=n+n+n}else{const n=e<=.5?e*(r+1):e+r-e*r,a=e*2-n;o=z(a,n,s*6+2)+z(a,n,s*6)+z(a,n,s*6-2)}return"#"+o}function H(s,r,e){const o=[.55,.5,.5,.46,.6,.55,.55],n=o[s*6+.5|0];return e=e<.5?e*n*2:n+(e-.5)*(1-n)*2,oe(s,r,e)}const ne=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{},W={V:"jdenticon_config",n:"config"};var ae={};function le(s,r){const e=ae[W.n]||ne[W.V]||{},o=e.lightness||{},n=e.saturation||{},a="color"in n?n.color:n,i=n.grayscale,p=e.backColor,d=e.padding;function l(x,m){let h=o[x];return h&&h.length>1||(h=m),function(c){return c=h[0]+c*(h[1]-h[0]),c<0?0:c>1?1:c}}function g(x){const m=e.hues;let h;return m&&m.length>0&&(h=m[0|.999*x*m.length]),typeof h=="number"?(h/360%1+1)%1:x}return{W:g,o:typeof a=="number"?a:.5,D:typeof i=="number"?i:0,p:l("color",[.4,.8]),F:l("grayscale",[.3,.9]),G:se(p),X:typeof d=="number"?d:r}}class I{constructor(r,e){this.x=r,this.y=e}}class ${constructor(r,e,o,n){this.q=r,this.t=e,this.H=o,this.Y=n}I(r,e,o,n){const a=this.q+this.H,i=this.t+this.H,p=this.Y;return p===1?new I(a-e-(n||0),this.t+r):p===2?new I(a-r-(o||0),i-e-(n||0)):p===3?new I(this.q+e,i-r-(o||0)):new I(this.q+r,this.t+e)}}const ie=new $(0,0,0,0);class de{constructor(r){this.J=r,this.u=ie}g(r,e){const o=e?-2:2,n=[];for(let a=e?r.length-2:0;a<r.length&&a>=0;a+=o)n.push(this.u.I(r[a],r[a+1]));this.J.g(n)}h(r,e,o,n){const a=this.u.I(r,e,o,o);this.J.h(a,o,n)}i(r,e,o,n,a){this.g([r,e,r+o,e,r+o,e+n,r,e+n],a)}j(r,e,o,n,a,i){const p=[r+o,e,r+o,e+n,r,e+n,r,e];p.splice((a||0)%4*2,2),this.g(p,i)}K(r,e,o,n,a){this.g([r+o/2,e,r+o,e+n/2,r+o/2,e+n,r,e+n/2],a)}}function ue(s,r,e,o){s=s%14;let n,a,i,p,d,l;s?s==1?(i=0|e*.5,p=0|e*.8,r.j(e-i,0,i,p,2)):s==2?(i=0|e/3,r.i(i,i,e-i,e-i)):s==3?(d=e*.1,l=e<6?1:e<8?2:0|e*.25,d=d>1?0|d:d>.5?1:d,r.i(l,l,e-d-l,e-d-l)):s==4?(a=0|e*.15,i=0|e*.5,r.h(e-i-a,e-i-a,i)):s==5?(d=e*.1,l=d*4,l>3&&(l=0|l),r.i(0,0,e,e),r.g([l,l,e-d,l,l+(e-l-d)/2,e-d],!0)):s==6?r.g([0,0,e,0,e,e*.7,e*.4,e*.4,e*.7,e,0,e]):s==7?r.j(e/2,e/2,e/2,e/2,3):s==8?(r.i(0,0,e,e/2),r.i(0,e/2,e/2,e/2),r.j(e/2,e/2,e/2,e/2,1)):s==9?(d=e*.14,l=e<4?1:e<6?2:0|e*.35,d=e<8?d:0|d,r.i(0,0,e,e),r.i(l,l,e-l-d,e-l-d,!0)):s==10?(d=e*.12,l=d*3,r.i(0,0,e,e),r.h(l,l,e-d-l,!0)):s==11?r.j(e/2,e/2,e/2,e/2,3):s==12?(a=e*.25,r.i(0,0,e,e),r.K(a,a,e-a,e-a,!0)):!o&&(a=e*.4,i=e*1.2,r.h(a,a,i)):(n=e*.42,r.g([0,0,e,0,e,e-n*2,e-n,e,0,e]))}function F(s,r,e){s=s%4;let o;s?s==1?r.j(0,e/2,e,e/2,0):s==2?r.K(0,0,e,e):(o=e/6,r.h(o,o,e-2*o)):r.j(0,0,e,e,0)}function pe(s,r){return s=r.W(s),[H(s,r.D,r.F(0)),H(s,r.o,r.p(.5)),H(s,r.D,r.F(1)),H(s,r.o,r.p(1)),H(s,r.o,r.p(0))]}function ce(s,r,e){const o=le(e,.08);o.G&&s.m(o.G);let n=s.k;const a=.5+n*o.X|0;n-=a*2;const i=new de(s),p=0|n/4,d=0|a+n/2-p*2,l=0|a+n/2-p*2;function g(b,u,y,N,L){const K=_(r,y,1);let O=N?_(r,N,1):0;s.L(m[h[b]]);for(let k=0;k<L.length;k++)i.u=new $(d+L[k][0]*p,l+L[k][1]*p,p,O++%4),u(K,i,p,k);s.M()}const x=_(r,-7)/268435455,m=pe(x,o),h=[];let c;function v(b){if(b.indexOf(c)>=0){for(let u=0;u<b.length;u++)if(h.indexOf(b[u])>=0)return!0}}for(let b=0;b<3;b++)c=_(r,8+b,1)%m.length,(v([0,4])||v([2,3]))&&(c=1),h.push(c);g(0,F,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),g(1,F,4,5,[[0,0],[3,0],[3,3],[0,3]]),g(2,ue,1,null,[[1,1],[2,1],[2,2],[1,2]]),s.finish()}function he(s){var o=0,n=0,a=encodeURI(s)+"%80",i=[],p,d=[],l=1732584193,g=4023233417,x=~l,m=~g,h=3285377520,c=[l,g,x,m,h],v=0,b="";function u(y,N){return y<<N|y>>>32-N}for(;o<a.length;n++)i[n>>2]=i[n>>2]|(a[o]=="%"?parseInt(a.substring(o+1,o+=3),16):a.charCodeAt(o++))<<(3-(n&3))*8;for(p=((n+7>>6)+1)*16,i[p-1]=n*8-8;v<p;v+=16){for(o=0;o<80;o++)n=u(l,5)+h+(o<20?(g&x^~g&m)+1518500249:o<40?(g^x^m)+1859775393:o<60?(g&x^g&m^x&m)+2400959708:(g^x^m)+3395469782)+(d[o]=o<16?i[v+o]|0:u(d[o-3]^d[o-8]^d[o-14]^d[o-16],1)),h=m,m=x,x=u(g,30),g=l,l=n;c[0]=l=c[0]+l|0,c[1]=g=c[1]+g|0,c[2]=x=c[2]+x|0,c[3]=m=c[3]+m|0,c[4]=h=c[4]+h|0}for(o=0;o<40;o++)b+=(c[o>>3]>>>(7-(o&7))*4&15).toString(16);return b}function xe(s){return/^[0-9a-f]{11,}$/i.test(s)&&s}function me(s){return he(s==null?"":""+s)}typeof document<"u"&&document.querySelectorAll.bind(document);function S(s){return(s*10+.5|0)/10}class ge{constructor(){this.v=""}g(r){let e="";for(let o=0;o<r.length;o++)e+=(o?"L":"M")+S(r[o].x)+" "+S(r[o].y);this.v+=e+"Z"}h(r,e,o){const n=o?0:1,a=S(e/2),i=S(e),p="a"+a+","+a+" 0 1,"+n+" ";this.v+="M"+S(r.x)+" "+S(r.y+e/2)+p+i+",0"+p+-i+",0"}}class be{constructor(r){this.A,this.B={},this.O=r,this.k=r.k}m(r){const e=/^(#......)(..)?/.exec(r),o=e[2]?_(e[2],0)/255:1;this.O.m(e[1],o)}L(r){this.A=this.B[r]||(this.B[r]=new ge)}M(){}g(r){this.A.g(r)}h(r,e,o){this.A.h(r,e,o)}finish(){const r=this.B;for(let e in r)r.hasOwnProperty(e)&&this.O.P(e,r[e].v)}}const fe={R:"http://www.w3.org/2000/svg"};class ve{constructor(r){this.k=r,this.C='<svg xmlns="'+fe.R+'" width="'+r+'" height="'+r+'" viewBox="0 0 '+r+" "+r+'">'}m(r,e){e&&(this.C+='<rect width="100%" height="100%" fill="'+r+'" opacity="'+e.toFixed(2)+'"/>')}P(r,e){this.C+='<path fill="'+r+'" d="'+e+'"/>'}toString(){return this.C+"</svg>"}}function je(s,r,e){const o=new ve(r);return ce(new be(o),xe(s)||me(s),e),o.toString()}function we({username:s,profileUsername:r,isOwnProfile:e,currentPage:o,setCurrentPage:n,onLogout:a,topRightExtra:i,children:p}){const d=r||s,[l,g]=C.useState(null);return C.useEffect(()=>{const x=setTimeout(()=>{g(je(d,32))},200);return()=>clearTimeout(x)},[d]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-purple-900/20",children:[t.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 border-r-2 border-purple-900/50 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 shadow-2xl shadow-purple-900/30",children:[t.jsx("div",{className:"p-6 border-b-2 border-purple-800/40 bg-gradient-to-br from-gray-800 via-purple-900/20 to-gray-800",children:t.jsxs("div",{className:"text-sm text-gray-300 font-medium flex items-center",children:[l?t.jsx("div",{className:"inline-block w-7 h-7 rounded-full mr-2 shadow-lg shadow-purple-500/30",dangerouslySetInnerHTML:{__html:l}}):t.jsx("div",{className:"inline-block w-7 h-7 rounded-full bg-gray-700 animate-pulse mr-2"}),l?t.jsx("span",{className:"bg-gradient-to-r from-white via-purple-200 to-purple-300 bg-clip-text text-transparent",children:d}):t.jsx("div",{className:"h-3 w-20 bg-gray-700 animate-pulse rounded"})]})}),t.jsxs("nav",{className:"p-4 space-y-2 mt-2",children:[e&&t.jsxs("button",{onClick:()=>n("components"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="components"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),t.jsx("span",{children:"Komponenten"})]}),e&&t.jsxs("button",{onClick:()=>n("saved"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="saved"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),t.jsx("span",{children:"Gespeichert"})]}),t.jsxs("button",{onClick:()=>n("published"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="published"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),t.jsx("span",{children:"VerÃ¶ffentlicht"})]}),t.jsxs("button",{onClick:()=>n("discover"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${o==="discover"?"bg-gradient-to-r from-purple-600/40 via-purple-600/30 to-purple-700/40 text-white font-semibold border-2 border-purple-500/60 shadow-xl shadow-purple-500/40 transform scale-[1.02]":"text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 hover:border-purple-700/40 border border-transparent hover:shadow-md hover:shadow-purple-900/20"}`,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("span",{children:"Entdecken"})]})]})]}),t.jsxs("div",{className:"ml-64",children:[t.jsx("header",{className:"sticky top-0 z-10 bg-gray-800/80 backdrop-blur-md border-b border-purple-800/30 shadow-lg shadow-black/20",children:t.jsxs("div",{className:"flex items-center justify-between px-8 h-16",children:[t.jsx("div",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-purple-300 to-purple-400 font-bold text-xl",children:"OpenUI"}),e?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{onClick:a,className:"text-sm text-gray-300 hover:text-white px-4 py-2 rounded-lg hover:bg-gray-700/50 transition-all duration-200 cursor-pointer border border-transparent hover:border-purple-800/50",children:"Abmelden"})}),i]}):t.jsx("div",{className:"flex items-center gap-4",children:i})]})}),t.jsx("main",{className:"p-8 min-h-screen",children:p})]})]})}function ye({viewMode:s,setViewMode:r,searchQuery:e,setSearchQuery:o}){return t.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[t.jsxs("div",{className:"flex-1 max-w-md relative",children:[t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Nach Titel suchen...",value:e,onChange:n=>o(n.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/60 backdrop-blur-sm text-white border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 outline-none placeholder-gray-500 transition-all hover:border-purple-700/50"})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-xl p-1",children:[t.jsx("button",{onClick:()=>r("grid"),className:`p-2.5 rounded-lg transition-all duration-200 ${s==="grid"?"bg-purple-600/30 text-purple-300 shadow-lg shadow-purple-500/20":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,title:"Rasteransicht",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),t.jsx("button",{onClick:()=>r("list"),className:`p-2.5 rounded-lg transition-all duration-200 ${s==="list"?"bg-purple-600/30 text-purple-300 shadow-lg shadow-purple-500/20":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,title:"Listenansicht",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}function Ne({components:s,filteredComponents:r,viewMode:e,setViewMode:o,searchQuery:n,setSearchQuery:a,onCreateClick:i,onSelectComponent:p,getLanguageBadgeColor:d,currentPage:l,handleTogglePublish:g,selectedComponent:x,setSelectedComponent:m}){const[h,c]=C.useState(!1),v=u=>{m(u)};C.useEffect(()=>{if(x){const u=setTimeout(()=>c(!0),10);return()=>clearTimeout(u)}},[x]);const b=()=>{m(null)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-800/10 rounded-full blur-3xl"})]}),t.jsx("div",{className:"mb-8 relative",children:t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-serif mb-2 bg-gradient-to-r from-white via-purple-300 to-purple-400 bg-clip-text text-transparent",style:{fontFamily:"'Playfair Display', serif"},children:l==="components"?"Komponenten":l==="saved"?"Gespeicherte Komponenten":l==="published"?"VerÃ¶ffentlichte Komponenten":"Alle Komponenten entdecken"}),t.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:l==="discover"?"DurchstÃ¶bere alle verÃ¶ffentlichten Komponenten":"Deine Komponenten-Bibliothek und Vorschauen"})]}),l==="components"&&i&&t.jsxs("button",{onClick:i,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full text-sm font-medium hover:from-purple-500 hover:to-purple-600 transition-all duration-300 shadow-lg shadow-purple-500/40 hover:shadow-purple-500/60 hover:scale-105 active:scale-95 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Komponente erstellen"]})]})}),t.jsx(ye,{viewMode:e,setViewMode:o,searchQuery:n,setSearchQuery:a}),(r?.length??0)===0?t.jsx("div",{className:"text-gray-400 text-center mt-10 py-12",children:t.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-2xl p-8 max-w-md mx-auto",children:t.jsx("p",{className:"text-lg",children:"Keine Komponenten gefunden."})})}):e==="grid"?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mt-6 pb-8",children:r.map(u=>t.jsxs("div",{onClick:()=>v(u),className:"group bg-gray-800/90 backdrop-blur-sm border border-purple-800/40 rounded-xl overflow-hidden hover:border-purple-500/60 hover:shadow-xl hover:shadow-purple-500/30 transition-all duration-300 ease-out cursor-pointer transform hover:-translate-y-1 active:scale-[0.98]",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[t.jsxs("div",{className:"p-5 bg-gradient-to-b from-gray-800/80 to-transparent",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-purple-300 transition-colors",children:u.name}),t.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-white p-1",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("span",{className:`inline-flex px-3 py-1.5 rounded-lg text-xs font-semibold border ${d(u.language)}`,children:u.language.toUpperCase()}),u.user?.username&&t.jsxs("p",{className:"text-xs text-gray-400",children:["von ",t.jsx("span",{className:"text-purple-400",children:u.user.username})]})]})]}),t.jsx("div",{className:"border-t border-purple-800/20 bg-gray-900/40 h-64 overflow-hidden",children:t.jsx("div",{className:"h-full scale-95 group-hover:scale-100 transition-transform duration-300",children:t.jsx(E,{code:u.code,css:u.css,language:u.language})})})]},u._id))}):t.jsx("div",{className:"mt-6 space-y-3 pb-8",children:r.map(u=>t.jsxs("div",{onClick:()=>v(u),className:"group p-5 bg-gray-800/90 backdrop-blur-sm border border-purple-800/40 rounded-xl hover:border-purple-500/60 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 ease-out cursor-pointer flex items-center justify-between active:scale-[0.98]",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-purple-300 transition-colors mb-2",children:u.name}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("span",{className:`inline-flex px-3 py-1.5 rounded-lg text-xs font-semibold border ${d(u.language)}`,children:u.language.toUpperCase()}),u.user?.username&&t.jsxs("p",{className:"text-xs text-gray-400",children:["von ",t.jsx("span",{className:"text-purple-400",children:u.user.username})]})]})]}),t.jsx("div",{className:"w-48 h-24 border border-purple-800/30 rounded-lg overflow-hidden bg-gray-900/40 ml-4 group-hover:border-purple-500/50 transition-colors",children:t.jsx(E,{code:u.code,css:u.css,language:u.language})})]},u._id))}),t.jsx(te,{selectedComponent:x,onClose:b,getLanguageBadgeColor:d,handleTogglePublish:g})]})}function ke({newComponent:s,onChange:r,onSubmit:e,onCancel:o,getLanguageBadgeColor:n}){return t.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-40 overflow-y-auto text-gray-100",children:[t.jsxs("div",{className:"absolute inset-0 -z-10",children:[t.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-purple-800/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"})]}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("button",{onClick:o,className:"text-sm text-gray-300 hover:text-purple-400 transition-colors mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"â†"}),t.jsx("span",{children:"ZurÃ¼ck zum Dashboard"})]}),t.jsxs("h2",{className:"text-4xl font-semibold text-white mb-3",style:{fontFamily:"'Playfair Display', serif"},children:["Erstelle eine ",t.jsx("span",{className:"text-purple-400",children:"Komponente"})]}),t.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Baue deine Komponente und sieh eine Live-Vorschau, wÃ¤hrend du tippst."})]}),t.jsxs("form",{onSubmit:e,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Komponentenname"}),t.jsx("input",{type:"text",value:s.name,onChange:a=>r("name",a.target.value),placeholder:"e.g., Pricing Hero",required:!0,className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none transition-all hover:border-purple-700/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sprache"}),t.jsxs("select",{value:s.language,onChange:a=>r("language",a.target.value),className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none transition-all hover:border-purple-700/50",children:[t.jsx("option",{className:"text-orange-100 bg-orange-800",value:"html",children:"HTML"}),t.jsx("option",{className:"text-blue-100 bg-blue-800",value:"jsx",children:"JSX"}),t.jsx("option",{className:"text-green-100 bg-green-800",value:"vue",children:"Vue"}),t.jsx("option",{className:"text-purple-100 bg-purple-800",value:"astro",children:"Astro"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"CSS (optional)"}),t.jsx("textarea",{value:s.css,onChange:a=>r("css",a.target.value),placeholder:".card { background: white; }",className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none min-h-28 font-mono text-sm transition-all hover:border-purple-700/50 resize-y"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Code"}),t.jsx("textarea",{value:s.code,onChange:a=>r("code",a.target.value),placeholder:"<section>...</section>",required:!0,className:"w-full px-4 py-3 text-white bg-gray-800/60 backdrop-blur-sm border border-purple-800/30 rounded-xl focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none min-h-60 font-mono text-sm transition-all hover:border-purple-700/50 resize-y"}),t.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:[t.jsx("span",{children:"ðŸ’¡"}),t.jsx("span",{children:"Tipp: Die Vorschau rechts aktualisiert sich live wÃ¤hrend du tippst."})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-xl text-sm font-medium hover:bg-purple-500 transition-all duration-300 shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 hover:scale-105",children:"Komponente speichern"}),t.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 border border-purple-800/30 rounded-xl text-sm font-medium text-gray-300 hover:bg-purple-900/20 hover:text-purple-400 hover:border-purple-700/50 transition-all",children:"Abbrechen"})]})]})]}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-purple-800/30 rounded-2xl p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-base font-semibold text-white mb-1",children:"Live-Vorschau"}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Rendert ",s.language.toUpperCase()]})]}),t.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold border ${n(s.language)}`,children:s.language.toUpperCase()})]}),t.jsx("div",{className:"border border-purple-800/20 rounded-xl bg-gray-900/50 backdrop-blur-sm overflow-hidden min-h-[500px] shadow-inner",children:t.jsx(E,{code:s.code,language:s.language,css:s.css})})]})})]})})]})}function Ce({profileId:s}){const[r,e]=j.useState(()=>typeof window<"u"?localStorage.getItem("userId"):null),o=s===r||!s,n=s||r,[a,i]=j.useState(""),[p,d]=j.useState("components"),[l,g]=j.useState(""),[x,m]=j.useState("grid"),[h,c]=j.useState(null),[v,b]=j.useState(!1),[u,y]=j.useState({name:"",language:"html",css:"",code:"<div class='p-6 text-center'>Start building your component...</div>"}),N=A(w.components.createComponent);A(w.components.saveComponent);const L=A(w.components.publishComponent),K=A(w.components.unpublishComponent),O=B(w.components.getComponents,n?{userId:n}:"skip"),k=B(w.components.getSavedComponents,n?{userId:n}:"skip"),D=B(w.components.getPublishedComponents,n?{userId:n}:"skip"),G=B(w.components.getPublicComponents),q=B(w.components.getUserById,s?{id:s}:"skip"),M=o?p==="saved"?k:p==="published"?D:p==="discover"?G:O:D,Z=j.useMemo(()=>!M||!l?M||[]:M.filter(f=>f.name.toLowerCase().includes(l.toLowerCase())),[M,l]),P=f=>{switch(f){case"html":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"jsx":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"vue":return"bg-green-500/20 text-green-400 border-green-500/30";case"astro":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},J=async f=>{if(!h||h._id!==f)return;const R=!h.published;c({...h,published:R});try{R?await L({componentId:f}):await K({componentId:f})}catch(V){console.error("Toggle failed, reverting...",V),c(T=>T?._id===f?{...T,published:!T.published}:T)}},Y=f=>{f&&f.preventDefault(),r&&(N({name:u.name,language:u.language,css:u.css||void 0,code:u.code,userId:r}),b(!1),y({name:"",language:"html",css:"",code:"<div class='p-6 text-center'>Start building your component...</div>"}))},Q=(f,R)=>y(V=>({...V,[f]:R})),X=o&&p!=="saved";return t.jsx(t.Fragment,{children:t.jsxs(we,{username:a,profileUsername:q?.username,isOwnProfile:o,currentPage:p,setCurrentPage:d,onLogout:()=>{typeof window<"u"&&(localStorage.clear(),e(null),i(""),requestAnimationFrame(()=>window.location.href="/"))},topRightExtra:null,children:[t.jsx(Ne,{components:M,filteredComponents:Z,viewMode:x,setViewMode:m,searchQuery:l,setSearchQuery:g,...o&&{onCreateClick:()=>{b(!0),y({name:"",language:"html",css:"",code:"<div class='p-6 text-center'>Start building your component...</div>"})}},onSelectComponent:f=>c(f),getLanguageBadgeColor:P,currentPage:p,selectedComponent:h,setSelectedComponent:c,handleTogglePublish:X?J:void 0}),v&&t.jsx(ke,{newComponent:u,onChange:Q,onSubmit:Y,onCancel:()=>b(!1),getLanguageBadgeColor:P})]})})}function _e({userId:s}){const[r,e]=C.useState(null),o=C.useRef(!1);return C.useEffect(()=>{if(!o.current){const n=new ee("https://grateful-dodo-887.convex.cloud");e(n),o.current=!0}},[]),r?t.jsx(re,{client:r,children:t.jsx(Ce,{profileId:s})}):null}export{_e as default};
